{"version":3,"sources":["webpack:///D:/黑马前端基础学习/6.vue/项目/⭐⭐土拨鼠充电/土拨鼠小程序/xcx-charge/uni_modules/uview-ui/components/u-form/u-form.vue?50c5","webpack:///D:/黑马前端基础学习/6.vue/项目/⭐⭐土拨鼠充电/土拨鼠小程序/xcx-charge/uni_modules/uview-ui/components/u-form/u-form.vue?4c42","webpack:///D:/黑马前端基础学习/6.vue/项目/⭐⭐土拨鼠充电/土拨鼠小程序/xcx-charge/uni_modules/uview-ui/components/u-form/u-form.vue?190e","webpack:///D:/黑马前端基础学习/6.vue/项目/⭐⭐土拨鼠充电/土拨鼠小程序/xcx-charge/uni_modules/uview-ui/components/u-form/u-form.vue?7d45","uni-app:///uni_modules/uview-ui/components/u-form/u-form.vue","uni-app:///uni_modules/uview-ui/components/u-form/props.js","uni-app:///uni_modules/uview-ui/libs/util/async-validator.js"],"names":["Schema","name","mixins","provide","uForm","data","formRules","validator","originalModel","watch","rules","immediate","handler","propsChange","child","model","computed","created","methods","setRules","uni","resetFields","resetModel","clearValidate","props","validateField","event","value","propertyChain","propertyName","errorsRes","childErrors","validate","reject","resolve","type","Object","default","$u","form","Function","Array","errorType","String","borderBottom","Boolean","labelPosition","labelWidth","Number","labelAlign","labelStyle","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","formatRegExp","warning","process","window","document","errors","console","warn","every","e","convertFieldsError","fields","forEach","error","field","push","format","_len","args","_key","f","len","slice","str","replace","x","JSON","stringify","_","arg","isNativeStringType","isEmptyValue","undefined","isArray","asyncParallelArray","arr","func","callback","results","total","arrLength","count","a","asyncSerialArray","index","next","original","flattenObjArr","objArr","ret","keys","k","asyncMap","option","first","_pending","Promise","flattenArr","catch","firstFields","objArrKeys","objArrLength","pending","indexOf","complementError","rule","oe","message","fullField","deepMerge","s","required","options","messages","whitespace","test","pattern","email","url","RegExp","hex","types","integer","float","array","regexp","date","getTime","getMonth","getYear","number","isNaN","object","method","match","custom","ruleType","range","min","max","spRegexp","val","num","ENUM","enumerable","join","pattern$1","lastIndex","mismatch","_pattern","enum","string","_boolean","floatFn","ENUM$1","enumerable$1","pattern$2","dateObject","Date","required$1","type$1","any","validators","boolean","newMessages","parse","invalid","clone","cloned","descriptor","_messages","define","Error","z","item","source_","o","oc","_this","complete","add","_errors","concat","messages$1","series","r","transform","getValidationMethod","getType","errorFields","doIt","deep","defaultField","addFullfield","schema","cb","suppressWarning","map","fieldsSchema","fieldSchema","bind","errs","finalErrors","res","asyncValidator","then","messageIndex","splice","register"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;;;AAGrD;AACwQ;AACxQ,gBAAgB,0NAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA4lC,CAAgB,i1BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACOhnC;AACA;;;;;;;;AACA;AACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA,eAcA;EACAC;EACAC;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACAC;MACAC;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACA;UACA,+CACAC;QACA;MACA;IACA;IACA;IACAC;MACAJ;MACAC;QACA;UACA;QACA;MACA;IACA;EACA;EACAI;IACAH;MACA,QACA,gBACA,mBACA,oBACA,iBACA,iBACA,gBACA;IACA;EACA;EACAI;IACA;IACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;QACAC;QACA;MACA;MAAA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACA;QACA;QACAF;MACA;IACA;IACA;IACAG;MACAC;MACA;QACA;QACA;UACAV;QACA;MACA;IACA;IACA;IACAW;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAAC;gBACA;gBACA;kBACA;kBACA;kBACA;kBACAC;kBACA;kBACA;oBACA;oBACA;oBA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","file":"uni_modules/uview-ui/components/u-form/u-form.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./u-form.vue?vue&type=template&id=786a592e&scoped=true&\"\nvar renderjs\nimport script from \"./u-form.vue?vue&type=script&lang=js&\"\nexport * from \"./u-form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"786a592e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uview-ui/components/u-form/u-form.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-form.vue?vue&type=template&id=786a592e&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../小程序/3. 手把手教你微信小程序/微信小程序项目/微信小程序项目-资料/day01/day01/资料/资料/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-form.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"u-form\">\r\n\t\t<slot />\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport props from \"./props.js\";\r\n\timport Schema from \"../../libs/util/async-validator\";\r\n\t// 去除警告信息\r\n\tSchema.warning = function() {};\r\n\t/**\r\n\t * Form 表单\r\n\t * @description 此组件一般用于表单场景，可以配置Input输入框，Select弹出框，进行表单验证等。\r\n\t * @tutorial https://www.uviewui.com/components/form.html\r\n\t * @property {Object}\t\t\t\t\t\tmodel\t\t\t当前form的需要验证字段的集合\r\n\t * @property {Object | Function | Array}\trules\t\t\t验证规则\r\n\t * @property {String}\t\t\t\t\t\terrorType\t\t错误的提示方式，见上方说明 ( 默认 message )\r\n\t * @property {Boolean}\t\t\t\t\t\tborderBottom\t是否显示表单域的下划线边框   ( 默认 true ）\r\n\t * @property {String}\t\t\t\t\t\tlabelPosition\t表单域提示文字的位置，left-左侧，top-上方 ( 默认 'left' ）\r\n\t * @property {String | Number}\t\t\t\tlabelWidth\t\t提示文字的宽度，单位px  ( 默认 45 ）\r\n\t * @property {String}\t\t\t\t\t\tlabelAlign\t\tlable字体的对齐方式   ( 默认 ‘left' ）\r\n\t * @property {Object}\t\t\t\t\t\tlabelStyle\t\tlable的样式，对象形式\r\n\t * @example <u--formlabelPosition=\"left\" :model=\"model1\" :rules=\"rules\" ref=\"form1\"></u--form>\r\n\t */\r\n\texport default {\r\n\t\tname: \"u-form\",\r\n\t\tmixins: [uni.$u.mpMixin, uni.$u.mixin, props],\r\n\t\tprovide() {\r\n\t\t\treturn {\r\n\t\t\t\tuForm: this,\r\n\t\t\t};\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tformRules: {},\r\n\t\t\t\t// 规则校验器\r\n\t\t\t\tvalidator: {},\r\n\t\t\t\t// 原始的model快照，用于resetFields方法重置表单时使用\r\n\t\t\t\toriginalModel: null,\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 监听规则的变化\r\n\t\t\trules: {\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler(n) {\r\n\t\t\t\t\tthis.setRules(n);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t// 监听属性的变化，通知子组件u-form-item重新获取信息\r\n\t\t\tpropsChange(n) {\r\n\t\t\t\tif (this.children?.length) {\r\n\t\t\t\t\tthis.children.map((child) => {\r\n\t\t\t\t\t\t// 判断子组件(u-form-item)如果有updateParentData方法的话，就就执行(执行的结果是子组件重新从父组件拉取了最新的值)\r\n\t\t\t\t\t\ttypeof child.updateParentData == \"function\" &&\r\n\t\t\t\t\t\t\tchild.updateParentData();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 监听model的初始值作为重置表单的快照\r\n\t\t\tmodel: {\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler(n) {\r\n\t\t\t\t\tif (!this.originalModel) {\r\n\t\t\t\t\t\tthis.originalModel = uni.$u.deepClone(n);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tpropsChange() {\r\n\t\t\t\treturn [\r\n\t\t\t\t\tthis.errorType,\r\n\t\t\t\t\tthis.borderBottom,\r\n\t\t\t\t\tthis.labelPosition,\r\n\t\t\t\t\tthis.labelWidth,\r\n\t\t\t\t\tthis.labelAlign,\r\n\t\t\t\t\tthis.labelStyle,\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 存储当前form下的所有u-form-item的实例\r\n\t\t\t// 不能定义在data中，否则微信小程序会造成循环引用而报错\r\n\t\t\tthis.children = [];\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 手动设置校验的规则，如果规则中有函数的话，微信小程序中会过滤掉，所以只能手动调用设置规则\r\n\t\t\tsetRules(rules) {\r\n\t\t\t\t// 判断是否有规则\r\n\t\t\t\tif (Object.keys(rules).length === 0) return;\n\t\t\t\tif (process.env.NODE_ENV === 'development' && Object.keys(this.model).length === 0) {\n\t\t\t\t\tuni.$u.error('设置rules，model必须设置！如果已经设置，请刷新页面。');\n\t\t\t\t\treturn;\n\t\t\t\t};\r\n\t\t\t\tthis.formRules = rules;\r\n\t\t\t\t// 重新将规则赋予Validator\r\n\t\t\t\tthis.validator = new Schema(rules);\r\n\t\t\t},\r\n\t\t\t// 清空所有u-form-item组件的内容，本质上是调用了u-form-item组件中的resetField()方法\r\n\t\t\tresetFields() {\r\n\t\t\t\tthis.resetModel();\r\n\t\t\t},\r\n\t\t\t// 重置model为初始值的快照\r\n\t\t\tresetModel(obj) {\r\n\t\t\t\t// 历遍所有u-form-item，根据其prop属性，还原model的原始快照\r\n\t\t\t\tthis.children.map((child) => {\r\n\t\t\t\t\tconst prop = child?.prop;\r\n\t\t\t\t\tconst value = uni.$u.getProperty(this.originalModel, prop);\r\n\t\t\t\t\tuni.$u.setProperty(this.model, prop, value);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 清空校验结果\r\n\t\t\tclearValidate(props) {\r\n\t\t\t\tprops = [].concat(props);\r\n\t\t\t\tthis.children.map((child) => {\r\n\t\t\t\t\t// 如果u-form-item的prop在props数组中，则清除对应的校验结果信息\r\n\t\t\t\t\tif (props[0] === undefined || props.includes(child.prop)) {\r\n\t\t\t\t\t\tchild.message = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 对部分表单字段进行校验\r\n\t\t\tasync validateField(value, callback, event = null) {\r\n\t\t\t\t// $nextTick是必须的，否则model的变更，可能会延后于此方法的执行\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t// 校验错误信息，返回给回调方法，用于存放所有form-item的错误信息\r\n\t\t\t\t\tconst errorsRes = [];\r\n\t\t\t\t\t// 如果为字符串，转为数组\r\n\t\t\t\t\tvalue = [].concat(value);\r\n\t\t\t\t\t// 历遍children所有子form-item\r\n\t\t\t\t\tthis.children.map((child) => {\r\n\t\t\t\t\t\t// 用于存放form-item的错误信息\r\n\t\t\t\t\t\tconst childErrors = [];\r\n\t\t\t\t\t\tif (value.includes(child.prop)) {\r\n\t\t\t\t\t\t\t// 获取对应的属性，通过类似'a.b.c'的形式\r\n\t\t\t\t\t\t\tconst propertyVal = uni.$u.getProperty(\r\n\t\t\t\t\t\t\t\tthis.model,\r\n\t\t\t\t\t\t\t\tchild.prop\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t// 属性链数组\r\n\t\t\t\t\t\t\tconst propertyChain = child.prop.split(\".\");\r\n\t\t\t\t\t\t\tconst propertyName =\r\n\t\t\t\t\t\t\t\tpropertyChain[propertyChain.length - 1];\r\n\r\n\t\t\t\t\t\t\tconst rule = this.formRules[child.prop];\r\n\t\t\t\t\t\t\t// 如果不存在对应的规则，直接返回，否则校验器会报错\r\n\t\t\t\t\t\t\tif (!rule) return;\r\n\t\t\t\t\t\t\t// rule规则可为数组形式，也可为对象形式，此处拼接成为数组\r\n\t\t\t\t\t\t\tconst rules = [].concat(rule);\r\n\r\n\t\t\t\t\t\t\t// 对rules数组进行校验\r\n\t\t\t\t\t\t\tfor (let i = 0; i < rules.length; i++) {\r\n\t\t\t\t\t\t\t\tconst ruleItem = rules[i];\r\n\t\t\t\t\t\t\t\t// 将u-form-item的触发器转为数组形式\r\n\t\t\t\t\t\t\t\tconst trigger = [].concat(ruleItem?.trigger);\r\n\t\t\t\t\t\t\t\t// 如果是有传入触发事件，但是此form-item却没有配置此触发器的话，不执行校验操作\r\n\t\t\t\t\t\t\t\tif (event && !trigger.includes(event)) continue;\r\n\t\t\t\t\t\t\t\t// 实例化校验对象，传入构造规则\r\n\t\t\t\t\t\t\t\tconst validator = new Schema({\r\n\t\t\t\t\t\t\t\t\t[propertyName]: ruleItem,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tvalidator.validate({\r\n\t\t\t\t\t\t\t\t\t\t[propertyName]: propertyVal,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t(errors, fields) => {\r\n\t\t\t\t\t\t\t\t\t\tif (uni.$u.test.array(errors)) {\r\n\t\t\t\t\t\t\t\t\t\t\terrorsRes.push(...errors);\r\n\t\t\t\t\t\t\t\t\t\t\tchildErrors.push(...errors);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tchild.message =\r\n\t\t\t\t\t\t\t\t\t\t\tchildErrors[0]?.message ?? null;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 执行回调函数\r\n\t\t\t\t\ttypeof callback === \"function\" && callback(errorsRes);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 校验全部数据\r\n\t\t\tvalidate(callback) {\n\t\t\t\t// 开发环境才提示，生产环境不会提示\n\t\t\t\tif (process.env.NODE_ENV === 'development' && Object.keys(this.formRules).length === 0) {\n\t\t\t\t\tuni.$u.error('未设置rules，请看文档说明！如果已经设置，请刷新页面。');\n\t\t\t\t\treturn;\n\t\t\t\t}\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t// $nextTick是必须的，否则model的变更，可能会延后于validate方法\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t// 获取所有form-item的prop，交给validateField方法进行校验\r\n\t\t\t\t\t\tconst formItemProps = this.children.map(\r\n\t\t\t\t\t\t\t(item) => item.prop\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tthis.validateField(formItemProps, (errors) => {\r\n\t\t\t\t\t\t\tif(errors.length) {\r\n\t\t\t\t\t\t\t\t// 如果错误提示方式为toast，则进行提示\r\n\t\t\t\t\t\t\t\tthis.errorType === 'toast' && uni.$u.toast(errors[0].message)\r\n\t\t\t\t\t\t\t\treject(errors)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tresolve(true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","export default {\n    props: {\n        // 当前form的需要验证字段的集合\n        model: {\n            type: Object,\n            default: uni.$u.props.form.model\n        },\n        // 验证规则\n        rules: {\n            type: [Object, Function, Array],\n            default: uni.$u.props.form.rules\n        },\n        // 有错误时的提示方式，message-提示信息，toast-进行toast提示\n        // border-bottom-下边框呈现红色，none-无提示\n        errorType: {\n            type: String,\n            default: uni.$u.props.form.errorType\n        },\n        // 是否显示表单域的下划线边框\n        borderBottom: {\n            type: Boolean,\n            default: uni.$u.props.form.borderBottom\n        },\n        // label的位置，left-左边，top-上边\n        labelPosition: {\n            type: String,\n            default: uni.$u.props.form.labelPosition\n        },\n        // label的宽度，单位px\n        labelWidth: {\n            type: [String, Number],\n            default: uni.$u.props.form.labelWidth\n        },\n        // lable字体的对齐方式\n        labelAlign: {\n            type: String,\n            default: uni.$u.props.form.labelAlign\n        },\n        // lable的样式，对象形式\n        labelStyle: {\n            type: Object,\n            default: uni.$u.props.form.labelStyle\n        }\n    }\n}\n","function _extends() {\r\n    _extends = Object.assign || function (target) {\r\n        for (let i = 1; i < arguments.length; i++) {\r\n            const source = arguments[i]\r\n\r\n            for (const key in source) {\r\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n                    target[key] = source[key]\r\n                }\r\n            }\r\n        }\r\n\r\n        return target\r\n    }\r\n\r\n    return _extends.apply(this, arguments)\r\n}\r\n\r\n/* eslint no-console:0 */\r\nconst formatRegExp = /%[sdj%]/g\r\nlet warning = function warning() {} // don't print warning message when in production env or node runtime\r\n\r\nif (typeof process !== 'undefined' && process.env && process.env.NODE_ENV !== 'production' && typeof window\r\n\t!== 'undefined' && typeof document !== 'undefined') {\r\n    warning = function warning(type, errors) {\r\n        if (typeof console !== 'undefined' && console.warn) {\r\n            if (errors.every((e) => typeof e === 'string')) {\r\n                console.warn(type, errors)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction convertFieldsError(errors) {\r\n    if (!errors || !errors.length) return null\r\n    const fields = {}\r\n    errors.forEach((error) => {\r\n        const { field } = error\r\n        fields[field] = fields[field] || []\r\n        fields[field].push(error)\r\n    })\r\n    return fields\r\n}\r\n\r\nfunction format() {\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n        args[_key] = arguments[_key]\r\n    }\r\n\r\n    let i = 1\r\n    const f = args[0]\r\n    const len = args.length\r\n\r\n    if (typeof f === 'function') {\r\n        return f.apply(null, args.slice(1))\r\n    }\r\n\r\n    if (typeof f === 'string') {\r\n        let str = String(f).replace(formatRegExp, (x) => {\r\n            if (x === '%%') {\r\n                return '%'\r\n            }\r\n\r\n            if (i >= len) {\r\n                return x\r\n            }\r\n\r\n            switch (x) {\r\n            case '%s':\r\n                return String(args[i++])\r\n\r\n            case '%d':\r\n                return Number(args[i++])\r\n\r\n            case '%j':\r\n                try {\r\n                    return JSON.stringify(args[i++])\r\n                } catch (_) {\r\n                    return '[Circular]'\r\n                }\r\n\r\n                break\r\n\r\n            default:\r\n                return x\r\n            }\r\n        })\r\n\r\n        for (let arg = args[i]; i < len; arg = args[++i]) {\r\n            str += ` ${arg}`\r\n        }\r\n\r\n        return str\r\n    }\r\n\r\n    return f\r\n}\r\n\r\nfunction isNativeStringType(type) {\r\n    return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'pattern'\r\n}\r\n\r\nfunction isEmptyValue(value, type) {\r\n    if (value === undefined || value === null) {\r\n        return true\r\n    }\r\n\r\n    if (type === 'array' && Array.isArray(value) && !value.length) {\r\n        return true\r\n    }\r\n\r\n    if (isNativeStringType(type) && typeof value === 'string' && !value) {\r\n        return true\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nfunction asyncParallelArray(arr, func, callback) {\r\n    const results = []\r\n    let total = 0\r\n    const arrLength = arr.length\r\n\r\n    function count(errors) {\r\n        results.push.apply(results, errors)\r\n        total++\r\n\r\n        if (total === arrLength) {\r\n            callback(results)\r\n        }\r\n    }\r\n\r\n    arr.forEach((a) => {\r\n        func(a, count)\r\n    })\r\n}\r\n\r\nfunction asyncSerialArray(arr, func, callback) {\r\n    let index = 0\r\n    const arrLength = arr.length\r\n\r\n    function next(errors) {\r\n        if (errors && errors.length) {\r\n            callback(errors)\r\n            return\r\n        }\r\n\r\n        const original = index\r\n        index += 1\r\n\r\n        if (original < arrLength) {\r\n            func(arr[original], next)\r\n        } else {\r\n            callback([])\r\n        }\r\n    }\r\n\r\n    next([])\r\n}\r\n\r\nfunction flattenObjArr(objArr) {\r\n    const ret = []\r\n    Object.keys(objArr).forEach((k) => {\r\n        ret.push.apply(ret, objArr[k])\r\n    })\r\n    return ret\r\n}\r\n\r\nfunction asyncMap(objArr, option, func, callback) {\r\n    if (option.first) {\r\n        const _pending = new Promise((resolve, reject) => {\r\n            const next = function next(errors) {\r\n                callback(errors)\r\n                return errors.length ? reject({\r\n                    errors,\r\n                    fields: convertFieldsError(errors)\r\n                }) : resolve()\r\n            }\r\n\r\n            const flattenArr = flattenObjArr(objArr)\r\n            asyncSerialArray(flattenArr, func, next)\r\n        })\r\n\r\n        _pending.catch((e) => e)\r\n\r\n        return _pending\r\n    }\r\n\r\n    let firstFields = option.firstFields || []\r\n\r\n    if (firstFields === true) {\r\n        firstFields = Object.keys(objArr)\r\n    }\r\n\r\n    const objArrKeys = Object.keys(objArr)\r\n    const objArrLength = objArrKeys.length\r\n    let total = 0\r\n    const results = []\r\n    const pending = new Promise((resolve, reject) => {\r\n        const next = function next(errors) {\r\n            results.push.apply(results, errors)\r\n            total++\r\n\r\n            if (total === objArrLength) {\r\n                callback(results)\r\n                return results.length ? reject({\r\n                    errors: results,\r\n                    fields: convertFieldsError(results)\r\n                }) : resolve()\r\n            }\r\n        }\r\n\r\n        if (!objArrKeys.length) {\r\n            callback(results)\r\n            resolve()\r\n        }\r\n\r\n        objArrKeys.forEach((key) => {\r\n            const arr = objArr[key]\r\n\r\n            if (firstFields.indexOf(key) !== -1) {\r\n                asyncSerialArray(arr, func, next)\r\n            } else {\r\n                asyncParallelArray(arr, func, next)\r\n            }\r\n        })\r\n    })\r\n    pending.catch((e) => e)\r\n    return pending\r\n}\r\n\r\nfunction complementError(rule) {\r\n    return function (oe) {\r\n        if (oe && oe.message) {\r\n            oe.field = oe.field || rule.fullField\r\n            return oe\r\n        }\r\n\r\n        return {\r\n            message: typeof oe === 'function' ? oe() : oe,\r\n            field: oe.field || rule.fullField\r\n        }\r\n    }\r\n}\r\n\r\nfunction deepMerge(target, source) {\r\n    if (source) {\r\n        for (const s in source) {\r\n            if (source.hasOwnProperty(s)) {\r\n                const value = source[s]\r\n\r\n                if (typeof value === 'object' && typeof target[s] === 'object') {\r\n                    target[s] = { ...target[s], ...value }\r\n                } else {\r\n                    target[s] = value\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return target\r\n}\r\n\r\n/**\r\n *  Rule for validating required fields.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param source The source object being validated.\r\n *  @param errors An array of errors that this rule may add\r\n *  validation errors to.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction required(rule, value, source, errors, options, type) {\r\n    if (rule.required && (!source.hasOwnProperty(rule.field) || isEmptyValue(value, type || rule.type))) {\r\n        errors.push(format(options.messages.required, rule.fullField))\r\n    }\r\n}\r\n\r\n/**\r\n *  Rule for validating whitespace.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param source The source object being validated.\r\n *  @param errors An array of errors that this rule may add\r\n *  validation errors to.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction whitespace(rule, value, source, errors, options) {\r\n    if (/^\\s+$/.test(value) || value === '') {\r\n        errors.push(format(options.messages.whitespace, rule.fullField))\r\n    }\r\n}\r\n\r\n/* eslint max-len:0 */\r\n\r\nconst pattern = {\r\n    // http://emailregex.com/\r\n    email: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n    url: new RegExp(\r\n        '^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$',\r\n        'i'\r\n    ),\r\n    hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i\r\n}\r\nvar types = {\r\n    integer: function integer(value) {\r\n        return /^(-)?\\d+$/.test(value);\r\n    },\r\n    float: function float(value) {\r\n        return /^(-)?\\d+(\\.\\d+)?$/.test(value);\r\n    },\r\n    array: function array(value) {\r\n        return Array.isArray(value)\r\n    },\r\n    regexp: function regexp(value) {\r\n        if (value instanceof RegExp) {\r\n            return true\r\n        }\r\n\r\n        try {\r\n            return !!new RegExp(value)\r\n        } catch (e) {\r\n            return false\r\n        }\r\n    },\r\n    date: function date(value) {\r\n        return typeof value.getTime === 'function' && typeof value.getMonth === 'function' && typeof value.getYear\r\n\t\t\t=== 'function'\r\n    },\r\n    number: function number(value) {\r\n        if (isNaN(value)) {\r\n            return false\r\n        }\r\n\r\n        // 修改源码，将字符串数值先转为数值\r\n        return typeof +value === 'number'\r\n    },\r\n    object: function object(value) {\r\n        return typeof value === 'object' && !types.array(value)\r\n    },\r\n    method: function method(value) {\r\n        return typeof value === 'function'\r\n    },\r\n    email: function email(value) {\r\n        return typeof value === 'string' && !!value.match(pattern.email) && value.length < 255\r\n    },\r\n    url: function url(value) {\r\n        return typeof value === 'string' && !!value.match(pattern.url)\r\n    },\r\n    hex: function hex(value) {\r\n        return typeof value === 'string' && !!value.match(pattern.hex)\r\n    }\r\n}\r\n/**\r\n *  Rule for validating the type of a value.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param source The source object being validated.\r\n *  @param errors An array of errors that this rule may add\r\n *  validation errors to.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction type(rule, value, source, errors, options) {\r\n    if (rule.required && value === undefined) {\r\n        required(rule, value, source, errors, options)\r\n        return\r\n    }\r\n\r\n    const custom = ['integer', 'float', 'array', 'regexp', 'object', 'method', 'email', 'number', 'date', 'url', 'hex']\r\n    const ruleType = rule.type\r\n\r\n    if (custom.indexOf(ruleType) > -1) {\r\n        if (!types[ruleType](value)) {\r\n            errors.push(format(options.messages.types[ruleType], rule.fullField, rule.type))\r\n        } // straight typeof check\r\n    } else if (ruleType && typeof value !== rule.type) {\r\n        errors.push(format(options.messages.types[ruleType], rule.fullField, rule.type))\r\n    }\r\n}\r\n\r\n/**\r\n *  Rule for validating minimum and maximum allowed values.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param source The source object being validated.\r\n *  @param errors An array of errors that this rule may add\r\n *  validation errors to.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction range(rule, value, source, errors, options) {\r\n    const len = typeof rule.len === 'number'\r\n    const min = typeof rule.min === 'number'\r\n    const max = typeof rule.max === 'number' // 正则匹配码点范围从U+010000一直到U+10FFFF的文字（补充平面Supplementary Plane）\r\n\r\n    const spRegexp = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g\r\n    let val = value\r\n    let key = null\r\n    const num = typeof value === 'number'\r\n    const str = typeof value === 'string'\r\n    const arr = Array.isArray(value)\r\n\r\n    if (num) {\r\n        key = 'number'\r\n    } else if (str) {\r\n        key = 'string'\r\n    } else if (arr) {\r\n        key = 'array'\r\n    } // if the value is not of a supported type for range validation\r\n    // the validation rule rule should use the\r\n    // type property to also test for a particular type\r\n\r\n    if (!key) {\r\n        return false\r\n    }\r\n\r\n    if (arr) {\r\n        val = value.length\r\n    }\r\n\r\n    if (str) {\r\n        // 处理码点大于U+010000的文字length属性不准确的bug，如\"𠮷𠮷𠮷\".lenght !== 3\r\n        val = value.replace(spRegexp, '_').length\r\n    }\r\n\r\n    if (len) {\r\n        if (val !== rule.len) {\r\n            errors.push(format(options.messages[key].len, rule.fullField, rule.len))\r\n        }\r\n    } else if (min && !max && val < rule.min) {\r\n        errors.push(format(options.messages[key].min, rule.fullField, rule.min))\r\n    } else if (max && !min && val > rule.max) {\r\n        errors.push(format(options.messages[key].max, rule.fullField, rule.max))\r\n    } else if (min && max && (val < rule.min || val > rule.max)) {\r\n        errors.push(format(options.messages[key].range, rule.fullField, rule.min, rule.max))\r\n    }\r\n}\r\n\r\nconst ENUM = 'enum'\r\n/**\r\n *  Rule for validating a value exists in an enumerable list.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param source The source object being validated.\r\n *  @param errors An array of errors that this rule may add\r\n *  validation errors to.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction enumerable(rule, value, source, errors, options) {\r\n    rule[ENUM] = Array.isArray(rule[ENUM]) ? rule[ENUM] : []\r\n\r\n    if (rule[ENUM].indexOf(value) === -1) {\r\n        errors.push(format(options.messages[ENUM], rule.fullField, rule[ENUM].join(', ')))\r\n    }\r\n}\r\n\r\n/**\r\n *  Rule for validating a regular expression pattern.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param source The source object being validated.\r\n *  @param errors An array of errors that this rule may add\r\n *  validation errors to.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction pattern$1(rule, value, source, errors, options) {\r\n    if (rule.pattern) {\r\n        if (rule.pattern instanceof RegExp) {\r\n            // if a RegExp instance is passed, reset `lastIndex` in case its `global`\r\n            // flag is accidentally set to `true`, which in a validation scenario\r\n            // is not necessary and the result might be misleading\r\n            rule.pattern.lastIndex = 0\r\n\r\n            if (!rule.pattern.test(value)) {\r\n                errors.push(format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern))\r\n            }\r\n        } else if (typeof rule.pattern === 'string') {\r\n            const _pattern = new RegExp(rule.pattern)\r\n\r\n            if (!_pattern.test(value)) {\r\n                errors.push(format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern))\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst rules = {\r\n    required,\r\n    whitespace,\r\n    type,\r\n    range,\r\n    enum: enumerable,\r\n    pattern: pattern$1\r\n}\r\n\r\n/**\r\n *  Performs validation for string types.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction string(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value, 'string') && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options, 'string')\r\n\r\n        if (!isEmptyValue(value, 'string')) {\r\n            rules.type(rule, value, source, errors, options)\r\n            rules.range(rule, value, source, errors, options)\r\n            rules.pattern(rule, value, source, errors, options)\r\n\r\n            if (rule.whitespace === true) {\r\n                rules.whitespace(rule, value, source, errors, options)\r\n            }\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates a function.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction method(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (value !== undefined) {\r\n            rules.type(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates a number.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction number(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (value === '') {\r\n            value = undefined\r\n        }\r\n\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (value !== undefined) {\r\n            rules.type(rule, value, source, errors, options)\r\n            rules.range(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates a boolean.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction _boolean(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (value !== undefined) {\r\n            rules.type(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates the regular expression type.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction regexp(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (!isEmptyValue(value)) {\r\n            rules.type(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates a number is an integer.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction integer(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (value !== undefined) {\r\n            rules.type(rule, value, source, errors, options)\r\n            rules.range(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates a number is a floating point number.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction floatFn(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (value !== undefined) {\r\n            rules.type(rule, value, source, errors, options)\r\n            rules.range(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates an array.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction array(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value, 'array') && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options, 'array')\r\n\r\n        if (!isEmptyValue(value, 'array')) {\r\n            rules.type(rule, value, source, errors, options)\r\n            rules.range(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates an object.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction object(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (value !== undefined) {\r\n            rules.type(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\nconst ENUM$1 = 'enum'\r\n/**\r\n *  Validates an enumerable list.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction enumerable$1(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (value !== undefined) {\r\n            rules[ENUM$1](rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Validates a regular expression pattern.\r\n *\r\n *  Performs validation when a rule only contains\r\n *  a pattern property but is not declared as a string type.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction pattern$2(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value, 'string') && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (!isEmptyValue(value, 'string')) {\r\n            rules.pattern(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\nfunction date(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n\r\n        if (!isEmptyValue(value)) {\r\n            let dateObject\r\n\r\n            if (typeof value === 'number') {\r\n                dateObject = new Date(value)\r\n            } else {\r\n                dateObject = value\r\n            }\r\n\r\n            rules.type(rule, dateObject, source, errors, options)\r\n\r\n            if (dateObject) {\r\n                rules.range(rule, dateObject.getTime(), source, errors, options)\r\n            }\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\nfunction required$1(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const type = Array.isArray(value) ? 'array' : typeof value\r\n    rules.required(rule, value, source, errors, options, type)\r\n    callback(errors)\r\n}\r\n\r\nfunction type$1(rule, value, callback, source, options) {\r\n    const ruleType = rule.type\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value, ruleType) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options, ruleType)\r\n\r\n        if (!isEmptyValue(value, ruleType)) {\r\n            rules.type(rule, value, source, errors, options)\r\n        }\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\n/**\r\n *  Performs validation for any type.\r\n *\r\n *  @param rule The validation rule.\r\n *  @param value The value of the field on the source object.\r\n *  @param callback The callback function.\r\n *  @param source The source object being validated.\r\n *  @param options The validation options.\r\n *  @param options.messages The validation messages.\r\n */\r\n\r\nfunction any(rule, value, callback, source, options) {\r\n    const errors = []\r\n    const validate = rule.required || !rule.required && source.hasOwnProperty(rule.field)\r\n\r\n    if (validate) {\r\n        if (isEmptyValue(value) && !rule.required) {\r\n            return callback()\r\n        }\r\n\r\n        rules.required(rule, value, source, errors, options)\r\n    }\r\n\r\n    callback(errors)\r\n}\r\n\r\nconst validators = {\r\n    string,\r\n    method,\r\n    number,\r\n    boolean: _boolean,\r\n    regexp,\r\n    integer,\r\n    float: floatFn,\r\n    array,\r\n    object,\r\n    enum: enumerable$1,\r\n    pattern: pattern$2,\r\n    date,\r\n    url: type$1,\r\n    hex: type$1,\r\n    email: type$1,\r\n    required: required$1,\r\n    any\r\n}\r\n\r\nfunction newMessages() {\r\n    return {\r\n        default: 'Validation error on field %s',\r\n        required: '%s is required',\r\n        enum: '%s must be one of %s',\r\n        whitespace: '%s cannot be empty',\r\n        date: {\r\n            format: '%s date %s is invalid for format %s',\r\n            parse: '%s date could not be parsed, %s is invalid ',\r\n            invalid: '%s date %s is invalid'\r\n        },\r\n        types: {\r\n            string: '%s is not a %s',\r\n            method: '%s is not a %s (function)',\r\n            array: '%s is not an %s',\r\n            object: '%s is not an %s',\r\n            number: '%s is not a %s',\r\n            date: '%s is not a %s',\r\n            boolean: '%s is not a %s',\r\n            integer: '%s is not an %s',\r\n            float: '%s is not a %s',\r\n            regexp: '%s is not a valid %s',\r\n            email: '%s is not a valid %s',\r\n            url: '%s is not a valid %s',\r\n            hex: '%s is not a valid %s'\r\n        },\r\n        string: {\r\n            len: '%s must be exactly %s characters',\r\n            min: '%s must be at least %s characters',\r\n            max: '%s cannot be longer than %s characters',\r\n            range: '%s must be between %s and %s characters'\r\n        },\r\n        number: {\r\n            len: '%s must equal %s',\r\n            min: '%s cannot be less than %s',\r\n            max: '%s cannot be greater than %s',\r\n            range: '%s must be between %s and %s'\r\n        },\r\n        array: {\r\n            len: '%s must be exactly %s in length',\r\n            min: '%s cannot be less than %s in length',\r\n            max: '%s cannot be greater than %s in length',\r\n            range: '%s must be between %s and %s in length'\r\n        },\r\n        pattern: {\r\n            mismatch: '%s value %s does not match pattern %s'\r\n        },\r\n        clone: function clone() {\r\n            const cloned = JSON.parse(JSON.stringify(this))\r\n            cloned.clone = this.clone\r\n            return cloned\r\n        }\r\n    }\r\n}\r\nconst messages = newMessages()\r\n\r\n/**\r\n *  Encapsulates a validation schema.\r\n *\r\n *  @param descriptor An object declaring validation rules\r\n *  for this schema.\r\n */\r\n\r\nfunction Schema(descriptor) {\r\n    this.rules = null\r\n    this._messages = messages\r\n    this.define(descriptor)\r\n}\r\n\r\nSchema.prototype = {\r\n    messages: function messages(_messages) {\r\n        if (_messages) {\r\n            this._messages = deepMerge(newMessages(), _messages)\r\n        }\r\n\r\n        return this._messages\r\n    },\r\n    define: function define(rules) {\r\n        if (!rules) {\r\n            throw new Error('Cannot configure a schema with no rules')\r\n        }\r\n\r\n        if (typeof rules !== 'object' || Array.isArray(rules)) {\r\n            throw new Error('Rules must be an object')\r\n        }\r\n\r\n        this.rules = {}\r\n        let z\r\n        let item\r\n\r\n        for (z in rules) {\r\n            if (rules.hasOwnProperty(z)) {\r\n                item = rules[z]\r\n                this.rules[z] = Array.isArray(item) ? item : [item]\r\n            }\r\n        }\r\n    },\r\n    validate: function validate(source_, o, oc) {\r\n        const _this = this\r\n\r\n        if (o === void 0) {\r\n            o = {}\r\n        }\r\n\r\n        if (oc === void 0) {\r\n            oc = function oc() {}\r\n        }\r\n\r\n        let source = source_\r\n        let options = o\r\n        let callback = oc\r\n\r\n        if (typeof options === 'function') {\r\n            callback = options\r\n            options = {}\r\n        }\r\n\r\n        if (!this.rules || Object.keys(this.rules).length === 0) {\r\n            if (callback) {\r\n                callback()\r\n            }\r\n\r\n            return Promise.resolve()\r\n        }\r\n\r\n        function complete(results) {\r\n            let i\r\n            let errors = []\r\n            let fields = {}\r\n\r\n            function add(e) {\r\n                if (Array.isArray(e)) {\r\n                    let _errors\r\n\r\n                    errors = (_errors = errors).concat.apply(_errors, e)\r\n                } else {\r\n                    errors.push(e)\r\n                }\r\n            }\r\n\r\n            for (i = 0; i < results.length; i++) {\r\n                add(results[i])\r\n            }\r\n\r\n            if (!errors.length) {\r\n                errors = null\r\n                fields = null\r\n            } else {\r\n                fields = convertFieldsError(errors)\r\n            }\r\n\r\n            callback(errors, fields)\r\n        }\r\n\r\n        if (options.messages) {\r\n            let messages$1 = this.messages()\r\n\r\n            if (messages$1 === messages) {\r\n                messages$1 = newMessages()\r\n            }\r\n\r\n            deepMerge(messages$1, options.messages)\r\n            options.messages = messages$1\r\n        } else {\r\n            options.messages = this.messages()\r\n        }\r\n\r\n        let arr\r\n        let value\r\n        const series = {}\r\n        const keys = options.keys || Object.keys(this.rules)\r\n        keys.forEach((z) => {\r\n            arr = _this.rules[z]\r\n            value = source[z]\r\n            arr.forEach((r) => {\r\n                let rule = r\r\n\r\n                if (typeof rule.transform === 'function') {\r\n                    if (source === source_) {\r\n                        source = { ...source }\r\n                    }\r\n\r\n                    value = source[z] = rule.transform(value)\r\n                }\r\n\r\n                if (typeof rule === 'function') {\r\n                    rule = {\r\n                        validator: rule\r\n                    }\r\n                } else {\r\n                    rule = { ...rule }\r\n                }\r\n\r\n                rule.validator = _this.getValidationMethod(rule)\r\n                rule.field = z\r\n                rule.fullField = rule.fullField || z\r\n                rule.type = _this.getType(rule)\r\n\r\n                if (!rule.validator) {\r\n                    return\r\n                }\r\n\r\n                series[z] = series[z] || []\r\n                series[z].push({\r\n                    rule,\r\n                    value,\r\n                    source,\r\n                    field: z\r\n                })\r\n            })\r\n        })\r\n        const errorFields = {}\r\n        return asyncMap(series, options, (data, doIt) => {\r\n            const { rule } = data\r\n            let deep = (rule.type === 'object' || rule.type === 'array') && (typeof rule.fields === 'object' || typeof rule.defaultField\r\n\t\t\t\t=== 'object')\r\n            deep = deep && (rule.required || !rule.required && data.value)\r\n            rule.field = data.field\r\n\r\n            function addFullfield(key, schema) {\r\n                return { ...schema, fullField: `${rule.fullField}.${key}` }\r\n            }\r\n\r\n            function cb(e) {\r\n                if (e === void 0) {\r\n                    e = []\r\n                }\r\n\r\n                let errors = e\r\n\r\n                if (!Array.isArray(errors)) {\r\n                    errors = [errors]\r\n                }\r\n\r\n                if (!options.suppressWarning && errors.length) {\r\n                    Schema.warning('async-validator:', errors)\r\n                }\r\n\r\n                if (errors.length && rule.message) {\r\n                    errors = [].concat(rule.message)\r\n                }\r\n\r\n                errors = errors.map(complementError(rule))\r\n\r\n                if (options.first && errors.length) {\r\n                    errorFields[rule.field] = 1\r\n                    return doIt(errors)\r\n                }\r\n\r\n                if (!deep) {\r\n                    doIt(errors)\r\n                } else {\r\n                    // if rule is required but the target object\r\n                    // does not exist fail at the rule level and don't\r\n                    // go deeper\r\n                    if (rule.required && !data.value) {\r\n                        if (rule.message) {\r\n                            errors = [].concat(rule.message).map(complementError(rule))\r\n                        } else if (options.error) {\r\n                            errors = [options.error(rule, format(options.messages.required, rule.field))]\r\n                        } else {\r\n                            errors = []\r\n                        }\r\n\r\n                        return doIt(errors)\r\n                    }\r\n\r\n                    let fieldsSchema = {}\r\n\r\n                    if (rule.defaultField) {\r\n                        for (const k in data.value) {\r\n                            if (data.value.hasOwnProperty(k)) {\r\n                                fieldsSchema[k] = rule.defaultField\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    fieldsSchema = { ...fieldsSchema, ...data.rule.fields }\r\n\r\n                    for (const f in fieldsSchema) {\r\n                        if (fieldsSchema.hasOwnProperty(f)) {\r\n                            const fieldSchema = Array.isArray(fieldsSchema[f]) ? fieldsSchema[f] : [fieldsSchema[f]]\r\n                            fieldsSchema[f] = fieldSchema.map(addFullfield.bind(null, f))\r\n                        }\r\n                    }\r\n\r\n                    const schema = new Schema(fieldsSchema)\r\n                    schema.messages(options.messages)\r\n\r\n                    if (data.rule.options) {\r\n                        data.rule.options.messages = options.messages\r\n                        data.rule.options.error = options.error\r\n                    }\r\n\r\n                    schema.validate(data.value, data.rule.options || options, (errs) => {\r\n                        const finalErrors = []\r\n\r\n                        if (errors && errors.length) {\r\n                            finalErrors.push.apply(finalErrors, errors)\r\n                        }\r\n\r\n                        if (errs && errs.length) {\r\n                            finalErrors.push.apply(finalErrors, errs)\r\n                        }\r\n\r\n                        doIt(finalErrors.length ? finalErrors : null)\r\n                    })\r\n                }\r\n            }\r\n\r\n            let res\r\n\r\n            if (rule.asyncValidator) {\r\n                res = rule.asyncValidator(rule, data.value, cb, data.source, options)\r\n            } else if (rule.validator) {\r\n                res = rule.validator(rule, data.value, cb, data.source, options)\r\n\r\n                if (res === true) {\r\n                    cb()\r\n                } else if (res === false) {\r\n                    cb(rule.message || `${rule.field} fails`)\r\n                } else if (res instanceof Array) {\r\n                    cb(res)\r\n                } else if (res instanceof Error) {\r\n                    cb(res.message)\r\n                }\r\n            }\r\n\r\n            if (res && res.then) {\r\n                res.then(() => cb(), (e) => cb(e))\r\n            }\r\n        }, (results) => {\r\n            complete(results)\r\n        })\r\n    },\r\n    getType: function getType(rule) {\r\n        if (rule.type === undefined && rule.pattern instanceof RegExp) {\r\n            rule.type = 'pattern'\r\n        }\r\n\r\n        if (typeof rule.validator !== 'function' && rule.type && !validators.hasOwnProperty(rule.type)) {\r\n            throw new Error(format('Unknown rule type %s', rule.type))\r\n        }\r\n\r\n        return rule.type || 'string'\r\n    },\r\n    getValidationMethod: function getValidationMethod(rule) {\r\n        if (typeof rule.validator === 'function') {\r\n            return rule.validator\r\n        }\r\n\r\n        const keys = Object.keys(rule)\r\n        const messageIndex = keys.indexOf('message')\r\n\r\n        if (messageIndex !== -1) {\r\n            keys.splice(messageIndex, 1)\r\n        }\r\n\r\n        if (keys.length === 1 && keys[0] === 'required') {\r\n            return validators.required\r\n        }\r\n\r\n        return validators[this.getType(rule)] || false\r\n    }\r\n}\r\n\r\nSchema.register = function register(type, validator) {\r\n    if (typeof validator !== 'function') {\r\n        throw new Error('Cannot register a validator by type, validator is not a function')\r\n    }\r\n\r\n    validators[type] = validator\r\n}\r\n\r\nSchema.warning = warning\r\nSchema.messages = messages\r\n\r\nexport default Schema\r\n// # sourceMappingURL=index.js.map\r\n"],"sourceRoot":""}